<!doctype html>
<html lang="ko">
  <head>
    <!-- @include partials/head-shared.html -->
    <title>1) 개요 — {{SITE_NAME}}</title>
    <meta name="description" content="{{PAGE_DESCRIPTION}}" />
    <link rel="canonical" href="{{PAGE_URL}}" />
    <meta property="og:title" content="1) 개요 — {{SITE_NAME}}" />
    <meta property="og:description" content="{{PAGE_DESCRIPTION}}" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="{{PAGE_URL}}" />
    <meta property="og:image" content="{{OG_IMAGE}}" />
    <meta name="twitter:card" content="summary_large_image" />
    <link rel="alternate" type="application/rss+xml" title="{{SITE_NAME}}" href="/feed.xml" />
  </head>
  <body>
    <a class="u-sr-only u-sr-only--focusable" href="#main">본문 바로가기</a>
    <!-- @include partials/site-header.html -->

    <main id="main" class="l-reading" role="main">
      <article class="c-article u-flow" aria-labelledby="post-title">
        <header>
          <h1 id="post-title">1) 개요</h1>
          <p class="c-article__meta">2025-02-12</p>
        </header>
        <h1><strong>Obsidian을 웹으로 배포하는 방법</strong></h1>
<h2><strong>1. [[Quartz]] 사용</strong></h2>
<p>정적 사이트 생성기 중 <strong>Obsidian과의 호환성이 뛰어난</strong> <strong>Quartz 4.0 버전</strong>을 사용하여 웹 배포를 진행할 수 있습니다.</p>
<h3><strong>1-1. Quartz와 Obsidian Vault 통합</strong></h3>
<h4><strong>① Obsidian Vault 내에 Quartz를 서브디렉토리로 포함하는 방법</strong></h4>
<ul>
  <li><strong>장점</strong></li>
</ul>
<ol>
  <li>단일 저장소로 관리 가능</li>
  <li>일관된 버전 관리 가능</li>
</ol>
<ul>
  <li><strong>단점</strong></li>
  <li>저장소의 크기가 증가함</li>
  <li><strong>업스트림 동기화 복잡성 증가</strong></li>
  <li>Quartz의 업스트림 변경 사항을 통합할 때 충돌이 발생할 가능성이 있음</li>
</ul>
<h4><strong>② Quartz 내에 Obsidian Vault를 서브디렉토리로 포함하는 방법</strong></h4>
<ul>
  <li><strong>장단점은 위와 동일</strong></li>
</ul>
<p>---</p>
<h3><strong>1-2. Quartz와 Obsidian Vault를 별개 저장소로 사용</strong></h3>
<p><strong>별도의 저장소</strong>로 유지하면서, Quartz CLI 옵션을 통해 빌드 시 Vault의 문서를 참조하는 방식입니다.</p>
<ul>
  <li><strong>장점</strong></li>
  <li><strong>명확한 역할 분리</strong></li>
  <li>Quartz는 블로그 레이아웃 및 편의 기능 담당</li>
  <li>Vault는 콘텐츠 관리 담당</li>
  <li><strong>독립적인 버전 관리 가능</strong></li>
  <li>각 저장소가 분리되어 있어 충돌 가능성이 없음</li>
  <li><strong>단점</strong></li>
  <li><strong>동기화 작업 필요</strong></li>
  <li>Quartz 빌드 시 <strong>Vault 경로를 content 폴더로 설정해야 함</strong></li>
  <li><strong>배포 프로세스가 복잡함</strong></li>
  <li>저장소가 분리되면서 배포 시 <strong>두 저장소 간의 변경 사항을 조정하는 과정이 추가됨</strong></li>
</ul>
<p>---</p>
<h2><strong>2. Obsidian Publish 사용</strong></h2>
<p>Obsidian의 <strong>코어 플러그인인 Publish를 활용</strong>하여 웹 배포를 진행할 수도 있습니다.</p>
<ul>
  <li><strong>장점</strong></li>
  <li><strong>간편한 설정</strong></li>
  <li><strong>자동화된 링크 관리</strong></li>
  <li><strong>단점</strong></li>
  <li>유료 서비스</li>
  <li>Quartz에 비해 <strong>커스터마이징이 제한됨</strong></li>
</ul>
<p>---</p>
<h1><strong>그래서 어떤 방법을 선택했는가?</strong></h1>
<h3><strong>✅ Quartz와 Vault를 별개의 저장소로 관리</strong></h3>
<ul>
  <li>Vault가 순수하게 문서 작업을 위한 공간으로 남아 있도록 하기 위해 <strong>별도 저장소로 유지</strong></li>
  <li><strong>GitHub Actions를 활용하여 동기화 및 배포 자동화</strong></li>
</ul>
<h3><strong>✅ GitHub Actions를 활용한 동기화 및 배포</strong></h3>
<ul>
  <li><strong>Quartz 저장소에서 GitHub Actions 수행 시 Vault 저장소를 GitHub Token을 활용하여 가져오기</strong></li>
  <li>가져온 Vault 저장소의 <code>main</code> 브랜치를 <strong>빌드 시 content 폴더로 사용</strong></li>
  <li><strong>Vault 콘텐츠 업데이트 시 Quartz 저장소의 Action을 자동 수행하도록 설정</strong></li>
  <li><strong>Vault <code>main</code> 브랜치에 Push할 경우, Quartz 저장소의 Action이 실행되도록 구성</strong></li>
</ul>
<h3><strong>✅ Cloudflare Pages를 사용하여 배포</strong></h3>
<ul>
  <li><strong>Cloudflare에 도메인을 보유하고 있음</strong></li>
  <li><strong>Cloudflare가 성능이 우수하며, 추가 비용 발생 시에도 감당할 의향이 있음</strong></li>
  <li><strong>GitHub Pages를 사용하지 않기로 결정</strong></li>
  <li>Cloudflare와 GitHub Pages 모두 <strong>정적 사이트 호스팅 및 Git 연동 지원</strong></li>
  <li>하지만 <strong>Cloudflare는 더 빠른 성능, 무제한 대역폭, 비공개 저장소 지원</strong> 등의 장점이 있음</li>
  <li>GitHub Pages는 Cloudflare에 비해 성능이 부족하고, <strong>비공개 저장소 사용 시 유료 플랜 필요</strong></li>
  <li>Cloudflare는 빌드가 <strong>월 500회로 제한</strong>되지만, <strong>빌드는 GitHub Actions에서 진행되므로 큰 문제가 되지 않음</strong></li>
</ul>
<h3><strong>✅ Backblaze B2를 사용한 이미지 호스팅</strong></h3>
<ul>
  <li>현재 게시글에서는 다루지 않지만, 추후 별도 포스트에서 설명 예정</li>
  <li><strong>Backblaze B2는 무료로 10GB 스토리지 제공</strong></li>
  <li><strong>Cloudflare와 Backblaze B2는 Bandwidth Alliance 파트너</strong></li>
  <li><strong>서로 간 데이터 전송 시 추가 비용 없음</strong></li>
  <li><strong>Cloudflare Worker와 연동하여 이미지 요청을 Cloudflare 엣지 서버에서 처리</strong></li>
  <li>이를 통해 <strong>지연 시간 최소화 및 서버 부하 감소</strong></li>
  <li>동시에 <strong>Backblaze B2의 요청 횟수를 줄여 비용 절감</strong></li>
</ul>
<p>---</p>
<h2><strong>3. 아키텍처 구성</strong></h2>
<p>아래는 전체적인 아키텍처를 도식화한 그림입니다.</p>
<h3><strong>영어 버전</strong></h3>
<pre><code class="language-text">graph TD;

    subgraph User Device
        PC[Obsidian Vault - local PC]
        Mobile[Obsidian Vault - Mobile]
        Tablet[Obsidian Vault - Tablet]
    end
    
    subgraph GitHub Repo
        VaultRepo[Obsidian Vault Repo]
        QuartzRepo[Quartz 4.0 Repo]
    end

    subgraph CI/CD - GitHub Actions
        VaultAction[Trigger Quartz Deploy]
        QuartzAction[Deploy to Cloudflare Pages]
    end

    subgraph Cloudflare
        CloudflarePages[Cloudflare Pages - limc.dev]
        CloudflareWorker[Cloudflare Worker - imgs.limc.dev]
    end

    subgraph Storage
        B2[BackBlaze B2 - Image Storage]
    end
    
    %% User Workflow
    PC --&gt;|Obsidian Sync| VaultRepo
    Mobile --&gt;|Obsidian Sync| VaultRepo
    Tablet --&gt;|Obsidian Sync| VaultRepo
    
    %% GitHub Actions Workflow
    VaultRepo --&gt;|Push - publish| VaultAction
    VaultAction --&gt;|Trigger| QuartzRepo
    QuartzRepo --&gt;|Build| QuartzAction
    QuartzAction --&gt;|Deploy| CloudflarePages

    %% Image Handling
    QuartzRepo -.-&gt;|Image Links| CloudflareWorker
    CloudflareWorker --&gt;|Fetch Images| B2
    CloudflareWorker --&gt;|Serve Images| CloudflarePages

    %% User Access
    User[User] --&gt;|Access Blog| CloudflarePages
    User --&gt;|Request Images| CloudflareWorker
</code></pre>
<p><img src="https://imgs.limc.dev/project/개발자-서고/1/blog-architect.webp" alt="블로그 아키텍처-영어" /></p>
<h3><strong>한글 버전</strong></h3>
<pre><code class="language-text">graph TD;

    subgraph 사용자 기기
        PC[Obsidian Vault - 로컬 PC]
        Mobile[Obsidian Vault - 모바일]
        Tablet[Obsidian Vault - 태블릿]
    end

    subgraph GitHub 저장소
        VaultRepo[Obsidian Vault 저장소]
        QuartzRepo[Quartz 4.0 저장소]
    end

    subgraph CI/CD - GitHub Actions
        VaultAction[Quartz 배포 트리거]
        QuartzAction[Cloudflare Pages 배포]
    end

    subgraph Cloudflare
        CloudflarePages[Cloudflare Pages - limc.dev]
        CloudflareWorker[Cloudflare Worker - imgs.limc.dev]
    end

    subgraph 스토리지
        B2[BackBlaze B2 - 이미지 저장소]
    end

    %% 사용자 작업 흐름
    PC --&gt;|Obsidian Sync 동기화| VaultRepo
    Mobile --&gt;|Obsidian Sync 동기화| VaultRepo
    Tablet --&gt;|Obsidian Sync 동기화| VaultRepo

    %% GitHub Actions 작업 흐름
    VaultRepo --&gt;|Push - publish| VaultAction
    VaultAction --&gt;|Quartz 저장소 빌드 트리거| QuartzRepo
    QuartzRepo --&gt;|빌드 수행| QuartzAction
    QuartzAction --&gt;|Cloudflare Pages에 배포| CloudflarePages

    %% 이미지 처리 흐름
    QuartzRepo -.-&gt;|이미지 링크 포함| CloudflareWorker
    CloudflareWorker --&gt;|이미지 요청| B2
    CloudflareWorker --&gt;|이미지 서빙| CloudflarePages

    %% 사용자 접근
    User[사용자] --&gt;|블로그 접속| CloudflarePages
    User --&gt;|이미지 요청| CloudflareWorker
</code></pre>
<p><img src="https://imgs.limc.dev/project/개발자-서고/1/blog-architect-kr.webp" alt="블로그 아키텍처-한글" /></p>
<p>---</p>
<h2><strong>마무리</strong></h2>
<p>이 글에서는 <strong>Obsidian Vault를 웹으로 배포하기 위한 계획과 선택 과정</strong>을 정리했습니다.</p>
<ul>
  <li><strong>Quartz와 Obsidian Publish 중 Quartz를 선택</strong></li>
  <li><strong>Vault와 Quartz를 별도 저장소로 관리하는 방식 채택</strong></li>
  <li><strong>GitHub Actions를 활용한 자동 배포 구성</strong></li>
  <li><strong>Cloudflare Pages와 Backblaze B2를 활용한 배포 및 이미지 호스팅 방식 고려</strong></li>
</ul>
<p>앞으로 <strong>구체적인 구현 과정과 설정 방법</strong>을 다루면서, 각 단계를 상세히 설명할 예정입니다.</p>
      </article>
    </main>

    <!-- @include partials/site-footer.html -->
  </body>
</html>
